{"ast":null,"code":"import{invariant,isNumericalString}from'motion-utils';import{isCSSVariableToken}from'./is-css-variable.mjs';/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */const splitCSSVariableRegex=// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\x2D0-9A-Z_a-z]+)|([\\x2D0-9A-Z_a-z]+), ?([ #%\\(\\),-\\.0-9A-Za-z]+))\\)/;function parseCSSVariable(current){const match=splitCSSVariableRegex.exec(current);if(!match)return[,];const[,token1,token2,fallback]=match;return[\"--\".concat(token1!==null&&token1!==void 0?token1:token2),fallback];}const maxDepth=4;function getVariableValue(current,element){let depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;invariant(depth<=maxDepth,\"Max CSS variable fallback depth detected in property \\\"\".concat(current,\"\\\". This may indicate a circular fallback dependency.\"));const[token,fallback]=parseCSSVariable(current);// No CSS variable detected\nif(!token)return;// Attempt to read this CSS variable off the element\nconst resolved=window.getComputedStyle(element).getPropertyValue(token);if(resolved){const trimmed=resolved.trim();return isNumericalString(trimmed)?parseFloat(trimmed):trimmed;}return isCSSVariableToken(fallback)?getVariableValue(fallback,element,depth+1):fallback;}export{getVariableValue,parseCSSVariable};","map":{"version":3,"names":["invariant","isNumericalString","isCSSVariableToken","splitCSSVariableRegex","parseCSSVariable","current","match","exec","token1","token2","fallback","concat","maxDepth","getVariableValue","element","depth","arguments","length","undefined","token","resolved","window","getComputedStyle","getPropertyValue","trimmed","trim","parseFloat"],"sources":["/home/antisyn/portfolio/src/components/node_modules/motion-dom/dist/es/animation/utils/css-variables-conversion.mjs"],"sourcesContent":["import { invariant, isNumericalString } from 'motion-utils';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = \n// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token1, token2, fallback] = match;\n    return [`--${token1 ?? token2}`, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    return isCSSVariableToken(fallback)\n        ? getVariableValue(fallback, element, depth + 1)\n        : fallback;\n}\n\nexport { getVariableValue, parseCSSVariable };\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,iBAAiB,KAAQ,cAAc,CAC3D,OAASC,kBAAkB,KAAQ,uBAAuB,CAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,KAAM,CAAAC,qBAAqB,CAC3B;AACA,mFAA0D,CAC1D,QAAS,CAAAC,gBAAgBA,CAACC,OAAO,CAAE,CAC/B,KAAM,CAAAC,KAAK,CAAGH,qBAAqB,CAACI,IAAI,CAACF,OAAO,CAAC,CACjD,GAAI,CAACC,KAAK,CACN,MAAO,GAAG,CACd,KAAM,EAAGE,MAAM,CAAEC,MAAM,CAAEC,QAAQ,CAAC,CAAGJ,KAAK,CAC1C,MAAO,MAAAK,MAAA,CAAMH,MAAM,SAANA,MAAM,UAANA,MAAM,CAAIC,MAAM,EAAIC,QAAQ,CAAC,CAC9C,CACA,KAAM,CAAAE,QAAQ,CAAG,CAAC,CAClB,QAAS,CAAAC,gBAAgBA,CAACR,OAAO,CAAES,OAAO,CAAa,IAAX,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CACjDhB,SAAS,CAACe,KAAK,EAAIH,QAAQ,2DAAAD,MAAA,CAA2DN,OAAO,yDAAsD,CAAC,CACpJ,KAAM,CAACc,KAAK,CAAET,QAAQ,CAAC,CAAGN,gBAAgB,CAACC,OAAO,CAAC,CACnD;AACA,GAAI,CAACc,KAAK,CACN,OACJ;AACA,KAAM,CAAAC,QAAQ,CAAGC,MAAM,CAACC,gBAAgB,CAACR,OAAO,CAAC,CAACS,gBAAgB,CAACJ,KAAK,CAAC,CACzE,GAAIC,QAAQ,CAAE,CACV,KAAM,CAAAI,OAAO,CAAGJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC/B,MAAO,CAAAxB,iBAAiB,CAACuB,OAAO,CAAC,CAAGE,UAAU,CAACF,OAAO,CAAC,CAAGA,OAAO,CACrE,CACA,MAAO,CAAAtB,kBAAkB,CAACQ,QAAQ,CAAC,CAC7BG,gBAAgB,CAACH,QAAQ,CAAEI,OAAO,CAAEC,KAAK,CAAG,CAAC,CAAC,CAC9CL,QAAQ,CAClB,CAEA,OAASG,gBAAgB,CAAET,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}