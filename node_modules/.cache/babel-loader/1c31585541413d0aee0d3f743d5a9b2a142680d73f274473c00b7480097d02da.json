{"ast":null,"code":"import{isCSSVar}from'../../render/dom/is-css-var.mjs';import{transformProps}from'../../render/utils/keys-transform.mjs';import{isHTMLElement}from'../../utils/is-html-element.mjs';import{MotionValue}from'../../value/index.mjs';import{createSelectorEffect}from'../utils/create-dom-effect.mjs';import{createEffect}from'../utils/create-effect.mjs';import{buildTransform}from'./transform.mjs';const originProps=new Set([\"originX\",\"originY\",\"originZ\"]);const addStyleValue=(element,state,key,value)=>{let render=undefined;let computed=undefined;if(transformProps.has(key)){if(!state.get(\"transform\")){// If this is an HTML element, we need to set the transform-box to fill-box\n// to normalise the transform relative to the element's bounding box\nif(!isHTMLElement(element)&&!state.get(\"transformBox\")){addStyleValue(element,state,\"transformBox\",new MotionValue(\"fill-box\"));}state.set(\"transform\",new MotionValue(\"none\"),()=>{element.style.transform=buildTransform(state);});}computed=state.get(\"transform\");}else if(originProps.has(key)){if(!state.get(\"transformOrigin\")){state.set(\"transformOrigin\",new MotionValue(\"\"),()=>{var _state$latest$originX,_state$latest$originY,_state$latest$originZ;const originX=(_state$latest$originX=state.latest.originX)!==null&&_state$latest$originX!==void 0?_state$latest$originX:\"50%\";const originY=(_state$latest$originY=state.latest.originY)!==null&&_state$latest$originY!==void 0?_state$latest$originY:\"50%\";const originZ=(_state$latest$originZ=state.latest.originZ)!==null&&_state$latest$originZ!==void 0?_state$latest$originZ:0;element.style.transformOrigin=\"\".concat(originX,\" \").concat(originY,\" \").concat(originZ);});}computed=state.get(\"transformOrigin\");}else if(isCSSVar(key)){render=()=>{element.style.setProperty(key,state.latest[key]);};}else{render=()=>{element.style[key]=state.latest[key];};}return state.set(key,value,render,computed);};const styleEffect=/*@__PURE__*/createSelectorEffect(/*@__PURE__*/createEffect(addStyleValue));export{addStyleValue,styleEffect};","map":{"version":3,"names":["isCSSVar","transformProps","isHTMLElement","MotionValue","createSelectorEffect","createEffect","buildTransform","originProps","Set","addStyleValue","element","state","key","value","render","undefined","computed","has","get","set","style","transform","_state$latest$originX","_state$latest$originY","_state$latest$originZ","originX","latest","originY","originZ","transformOrigin","concat","setProperty","styleEffect"],"sources":["/home/antisyn/portfolio/src/components/node_modules/motion-dom/dist/es/effects/style/index.mjs"],"sourcesContent":["import { isCSSVar } from '../../render/dom/is-css-var.mjs';\nimport { transformProps } from '../../render/utils/keys-transform.mjs';\nimport { isHTMLElement } from '../../utils/is-html-element.mjs';\nimport { MotionValue } from '../../value/index.mjs';\nimport { createSelectorEffect } from '../utils/create-dom-effect.mjs';\nimport { createEffect } from '../utils/create-effect.mjs';\nimport { buildTransform } from './transform.mjs';\n\nconst originProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nconst addStyleValue = (element, state, key, value) => {\n    let render = undefined;\n    let computed = undefined;\n    if (transformProps.has(key)) {\n        if (!state.get(\"transform\")) {\n            // If this is an HTML element, we need to set the transform-box to fill-box\n            // to normalise the transform relative to the element's bounding box\n            if (!isHTMLElement(element) && !state.get(\"transformBox\")) {\n                addStyleValue(element, state, \"transformBox\", new MotionValue(\"fill-box\"));\n            }\n            state.set(\"transform\", new MotionValue(\"none\"), () => {\n                element.style.transform = buildTransform(state);\n            });\n        }\n        computed = state.get(\"transform\");\n    }\n    else if (originProps.has(key)) {\n        if (!state.get(\"transformOrigin\")) {\n            state.set(\"transformOrigin\", new MotionValue(\"\"), () => {\n                const originX = state.latest.originX ?? \"50%\";\n                const originY = state.latest.originY ?? \"50%\";\n                const originZ = state.latest.originZ ?? 0;\n                element.style.transformOrigin = `${originX} ${originY} ${originZ}`;\n            });\n        }\n        computed = state.get(\"transformOrigin\");\n    }\n    else if (isCSSVar(key)) {\n        render = () => {\n            element.style.setProperty(key, state.latest[key]);\n        };\n    }\n    else {\n        render = () => {\n            element.style[key] = state.latest[key];\n        };\n    }\n    return state.set(key, value, render, computed);\n};\nconst styleEffect = /*@__PURE__*/ createSelectorEffect(\n/*@__PURE__*/ createEffect(addStyleValue));\n\nexport { addStyleValue, styleEffect };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}