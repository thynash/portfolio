{"ast":null,"code":"import{isSVGElement}from'../utils/is-svg-element.mjs';import{resolveElements}from'../utils/resolve-elements.mjs';const resizeHandlers=new WeakMap();let observer;const getSize=(borderBoxAxis,svgAxis,htmlAxis)=>(target,borderBoxSize)=>{if(borderBoxSize&&borderBoxSize[0]){return borderBoxSize[0][borderBoxAxis+\"Size\"];}else if(isSVGElement(target)&&\"getBBox\"in target){return target.getBBox()[svgAxis];}else{return target[htmlAxis];}};const getWidth=/*@__PURE__*/getSize(\"inline\",\"width\",\"offsetWidth\");const getHeight=/*@__PURE__*/getSize(\"block\",\"height\",\"offsetHeight\");function notifyTarget(_ref){var _resizeHandlers$get;let{target,borderBoxSize}=_ref;(_resizeHandlers$get=resizeHandlers.get(target))===null||_resizeHandlers$get===void 0?void 0:_resizeHandlers$get.forEach(handler=>{handler(target,{get width(){return getWidth(target,borderBoxSize);},get height(){return getHeight(target,borderBoxSize);}});});}function notifyAll(entries){entries.forEach(notifyTarget);}function createResizeObserver(){if(typeof ResizeObserver===\"undefined\")return;observer=new ResizeObserver(notifyAll);}function resizeElement(target,handler){if(!observer)createResizeObserver();const elements=resolveElements(target);elements.forEach(element=>{var _observer;let elementHandlers=resizeHandlers.get(element);if(!elementHandlers){elementHandlers=new Set();resizeHandlers.set(element,elementHandlers);}elementHandlers.add(handler);(_observer=observer)===null||_observer===void 0?void 0:_observer.observe(element);});return()=>{elements.forEach(element=>{const elementHandlers=resizeHandlers.get(element);elementHandlers===null||elementHandlers===void 0?void 0:elementHandlers.delete(handler);if(!(elementHandlers!==null&&elementHandlers!==void 0&&elementHandlers.size)){var _observer2;(_observer2=observer)===null||_observer2===void 0?void 0:_observer2.unobserve(element);}});};}export{resizeElement};","map":{"version":3,"names":["isSVGElement","resolveElements","resizeHandlers","WeakMap","observer","getSize","borderBoxAxis","svgAxis","htmlAxis","target","borderBoxSize","getBBox","getWidth","getHeight","notifyTarget","_ref","_resizeHandlers$get","get","forEach","handler","width","height","notifyAll","entries","createResizeObserver","ResizeObserver","resizeElement","elements","element","_observer","elementHandlers","Set","set","add","observe","delete","size","_observer2","unobserve"],"sources":["/home/antisyn/portfolio/src/components/node_modules/motion-dom/dist/es/resize/handle-element.mjs"],"sourcesContent":["import { isSVGElement } from '../utils/is-svg-element.mjs';\nimport { resolveElements } from '../utils/resolve-elements.mjs';\n\nconst resizeHandlers = new WeakMap();\nlet observer;\nconst getSize = (borderBoxAxis, svgAxis, htmlAxis) => (target, borderBoxSize) => {\n    if (borderBoxSize && borderBoxSize[0]) {\n        return borderBoxSize[0][(borderBoxAxis + \"Size\")];\n    }\n    else if (isSVGElement(target) && \"getBBox\" in target) {\n        return target.getBBox()[svgAxis];\n    }\n    else {\n        return target[htmlAxis];\n    }\n};\nconst getWidth = /*@__PURE__*/ getSize(\"inline\", \"width\", \"offsetWidth\");\nconst getHeight = /*@__PURE__*/ getSize(\"block\", \"height\", \"offsetHeight\");\nfunction notifyTarget({ target, borderBoxSize }) {\n    resizeHandlers.get(target)?.forEach((handler) => {\n        handler(target, {\n            get width() {\n                return getWidth(target, borderBoxSize);\n            },\n            get height() {\n                return getHeight(target, borderBoxSize);\n            },\n        });\n    });\n}\nfunction notifyAll(entries) {\n    entries.forEach(notifyTarget);\n}\nfunction createResizeObserver() {\n    if (typeof ResizeObserver === \"undefined\")\n        return;\n    observer = new ResizeObserver(notifyAll);\n}\nfunction resizeElement(target, handler) {\n    if (!observer)\n        createResizeObserver();\n    const elements = resolveElements(target);\n    elements.forEach((element) => {\n        let elementHandlers = resizeHandlers.get(element);\n        if (!elementHandlers) {\n            elementHandlers = new Set();\n            resizeHandlers.set(element, elementHandlers);\n        }\n        elementHandlers.add(handler);\n        observer?.observe(element);\n    });\n    return () => {\n        elements.forEach((element) => {\n            const elementHandlers = resizeHandlers.get(element);\n            elementHandlers?.delete(handler);\n            if (!elementHandlers?.size) {\n                observer?.unobserve(element);\n            }\n        });\n    };\n}\n\nexport { resizeElement };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}