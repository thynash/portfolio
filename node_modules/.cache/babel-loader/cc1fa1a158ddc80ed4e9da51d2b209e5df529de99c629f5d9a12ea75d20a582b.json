{"ast":null,"code":"import{color}from'../color/index.mjs';import{colorRegex}from'../utils/color-regex.mjs';import{floatRegex}from'../utils/float-regex.mjs';import{sanitize}from'../utils/sanitize.mjs';function test(v){var _v$match,_v$match2;return isNaN(v)&&typeof v===\"string\"&&(((_v$match=v.match(floatRegex))===null||_v$match===void 0?void 0:_v$match.length)||0)+(((_v$match2=v.match(colorRegex))===null||_v$match2===void 0?void 0:_v$match2.length)||0)>0;}const NUMBER_TOKEN=\"number\";const COLOR_TOKEN=\"color\";const VAR_TOKEN=\"var\";const VAR_FUNCTION_TOKEN=\"var(\";const SPLIT_TOKEN=\"${}\";// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex=/var[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*\\([\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*--(?:[\\x2D0-9A-Z_a-z\\u017F\\u212A]+[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*|[\\x2D0-9A-Z_a-z\\u017F\\u212A]+[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*,(?:[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*(?:(?![\\t-\\r \\(\\)\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uD800-\\uDFFF\\uFEFF])[^]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])|[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*\\((?:(?:(?![\\(\\)\\uD800-\\uDFFF])[^]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])|\\((?:(?![\\(\\)\\uD800-\\uDFFF])[^]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])*\\))*\\))+[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*)\\)|#[0-9a-f]{3,8}|(?:rgb|h[s\\u017F]l)a?\\((?:-?[\\.0-9]+%?[\\t-\\r ,\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]+){2}-?[\\.0-9]+%?[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*(?:[,\\/][\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*)?(?:\\b[0-9]+(?:\\.[0-9]+)?|\\.[0-9]+)?%?\\)|-?(?:[0-9]+(?:\\.[0-9]+)?|\\.[0-9]+)/gi;function analyseComplexValue(value){const originalValue=value.toString();const values=[];const indexes={color:[],number:[],var:[]};const types=[];let i=0;const tokenised=originalValue.replace(complexRegex,parsedValue=>{if(color.test(parsedValue)){indexes.color.push(i);types.push(COLOR_TOKEN);values.push(color.parse(parsedValue));}else if(parsedValue.startsWith(VAR_FUNCTION_TOKEN)){indexes.var.push(i);types.push(VAR_TOKEN);values.push(parsedValue);}else{indexes.number.push(i);types.push(NUMBER_TOKEN);values.push(parseFloat(parsedValue));}++i;return SPLIT_TOKEN;});const split=tokenised.split(SPLIT_TOKEN);return{values,split,indexes,types};}function parseComplexValue(v){return analyseComplexValue(v).values;}function createTransformer(source){const{split,types}=analyseComplexValue(source);const numSections=split.length;return v=>{let output=\"\";for(let i=0;i<numSections;i++){output+=split[i];if(v[i]!==undefined){const type=types[i];if(type===NUMBER_TOKEN){output+=sanitize(v[i]);}else if(type===COLOR_TOKEN){output+=color.transform(v[i]);}else{output+=v[i];}}}return output;};}const convertNumbersToZero=v=>typeof v===\"number\"?0:color.test(v)?color.getAnimatableNone(v):v;function getAnimatableNone(v){const parsed=parseComplexValue(v);const transformer=createTransformer(v);return transformer(parsed.map(convertNumbersToZero));}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone};export{analyseComplexValue,complex};","map":{"version":3,"names":["color","colorRegex","floatRegex","sanitize","test","v","_v$match","_v$match2","isNaN","match","length","NUMBER_TOKEN","COLOR_TOKEN","VAR_TOKEN","VAR_FUNCTION_TOKEN","SPLIT_TOKEN","complexRegex","analyseComplexValue","value","originalValue","toString","values","indexes","number","var","types","i","tokenised","replace","parsedValue","push","parse","startsWith","parseFloat","split","parseComplexValue","createTransformer","source","numSections","output","undefined","type","transform","convertNumbersToZero","getAnimatableNone","parsed","transformer","map","complex"],"sources":["/home/antisyn/portfolio/src/components/node_modules/motion-dom/dist/es/value/types/complex/index.mjs"],"sourcesContent":["import { color } from '../color/index.mjs';\nimport { colorRegex } from '../utils/color-regex.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\n\nfunction test(v) {\n    return (isNaN(v) &&\n        typeof v === \"string\" &&\n        (v.match(floatRegex)?.length || 0) +\n            (v.match(colorRegex)?.length || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : color.test(v) ? color.getAnimatableNone(v) : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}