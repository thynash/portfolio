{"ast":null,"code":"import _objectSpread from\"/home/antisyn/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useLayoutEffect}from'react';import{makeUseVisualState}from'../../motion/utils/use-visual-state.mjs';import{createBox}from'../../projection/geometry/models.mjs';import{VisualElement}from'../../render/VisualElement.mjs';import{useConstant}from'../../utils/use-constant.mjs';import{animateVisualElement}from'../interfaces/visual-element.mjs';const createObject=()=>({});class StateVisualElement extends VisualElement{constructor(){super(...arguments);this.measureInstanceViewportBox=createBox;}build(){}resetTransform(){}restoreTransform(){}removeValueFromRenderState(){}renderInstance(){}scrapeMotionValuesFromProps(){return createObject();}getBaseTargetFromProps(){return undefined;}readValueFromInstance(_state,key,options){return options.initialState[key]||0;}sortInstanceNodePosition(){return 0;}}const useVisualState=makeUseVisualState({scrapeMotionValuesFromProps:createObject,createRenderState:createObject});/**\n * This is not an officially supported API and may be removed\n * on any version.\n */function useAnimatedState(initialState){const[animationState,setAnimationState]=useState(initialState);const visualState=useVisualState({},false);const element=useConstant(()=>{return new StateVisualElement({props:{onUpdate:v=>{setAnimationState(_objectSpread({},v));}},visualState,presenceContext:null},{initialState});});useLayoutEffect(()=>{element.mount({});return()=>element.unmount();},[element]);const startAnimation=useConstant(()=>animationDefinition=>{return animateVisualElement(element,animationDefinition);});return[animationState,startAnimation];}export{useAnimatedState};","map":{"version":3,"names":["useState","useLayoutEffect","makeUseVisualState","createBox","VisualElement","useConstant","animateVisualElement","createObject","StateVisualElement","constructor","arguments","measureInstanceViewportBox","build","resetTransform","restoreTransform","removeValueFromRenderState","renderInstance","scrapeMotionValuesFromProps","getBaseTargetFromProps","undefined","readValueFromInstance","_state","key","options","initialState","sortInstanceNodePosition","useVisualState","createRenderState","useAnimatedState","animationState","setAnimationState","visualState","element","props","onUpdate","v","_objectSpread","presenceContext","mount","unmount","startAnimation","animationDefinition"],"sources":["/home/antisyn/portfolio/src/components/node_modules/framer-motion/dist/es/animation/hooks/use-animated-state.mjs"],"sourcesContent":["import { useState, useLayoutEffect } from 'react';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { VisualElement } from '../../render/VisualElement.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nconst createObject = () => ({});\nclass StateVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.measureInstanceViewportBox = createBox;\n    }\n    build() { }\n    resetTransform() { }\n    restoreTransform() { }\n    removeValueFromRenderState() { }\n    renderInstance() { }\n    scrapeMotionValuesFromProps() {\n        return createObject();\n    }\n    getBaseTargetFromProps() {\n        return undefined;\n    }\n    readValueFromInstance(_state, key, options) {\n        return options.initialState[key] || 0;\n    }\n    sortInstanceNodePosition() {\n        return 0;\n    }\n}\nconst useVisualState = makeUseVisualState({\n    scrapeMotionValuesFromProps: createObject,\n    createRenderState: createObject,\n});\n/**\n * This is not an officially supported API and may be removed\n * on any version.\n */\nfunction useAnimatedState(initialState) {\n    const [animationState, setAnimationState] = useState(initialState);\n    const visualState = useVisualState({}, false);\n    const element = useConstant(() => {\n        return new StateVisualElement({\n            props: {\n                onUpdate: (v) => {\n                    setAnimationState({ ...v });\n                },\n            },\n            visualState,\n            presenceContext: null,\n        }, { initialState });\n    });\n    useLayoutEffect(() => {\n        element.mount({});\n        return () => element.unmount();\n    }, [element]);\n    const startAnimation = useConstant(() => (animationDefinition) => {\n        return animateVisualElement(element, animationDefinition);\n    });\n    return [animationState, startAnimation];\n}\n\nexport { useAnimatedState };\n"],"mappings":"4GAAA,OAASA,QAAQ,CAAEC,eAAe,KAAQ,OAAO,CACjD,OAASC,kBAAkB,KAAQ,yCAAyC,CAC5E,OAASC,SAAS,KAAQ,sCAAsC,CAChE,OAASC,aAAa,KAAQ,gCAAgC,CAC9D,OAASC,WAAW,KAAQ,8BAA8B,CAC1D,OAASC,oBAAoB,KAAQ,kCAAkC,CAEvE,KAAM,CAAAC,YAAY,CAAGA,CAAA,IAAO,CAAC,CAAC,CAAC,CAC/B,KAAM,CAAAC,kBAAkB,QAAS,CAAAJ,aAAc,CAC3CK,WAAWA,CAAA,CAAG,CACV,KAAK,CAAC,GAAGC,SAAS,CAAC,CACnB,IAAI,CAACC,0BAA0B,CAAGR,SAAS,CAC/C,CACAS,KAAKA,CAAA,CAAG,CAAE,CACVC,cAAcA,CAAA,CAAG,CAAE,CACnBC,gBAAgBA,CAAA,CAAG,CAAE,CACrBC,0BAA0BA,CAAA,CAAG,CAAE,CAC/BC,cAAcA,CAAA,CAAG,CAAE,CACnBC,2BAA2BA,CAAA,CAAG,CAC1B,MAAO,CAAAV,YAAY,CAAC,CAAC,CACzB,CACAW,sBAAsBA,CAAA,CAAG,CACrB,MAAO,CAAAC,SAAS,CACpB,CACAC,qBAAqBA,CAACC,MAAM,CAAEC,GAAG,CAAEC,OAAO,CAAE,CACxC,MAAO,CAAAA,OAAO,CAACC,YAAY,CAACF,GAAG,CAAC,EAAI,CAAC,CACzC,CACAG,wBAAwBA,CAAA,CAAG,CACvB,MAAO,EAAC,CACZ,CACJ,CACA,KAAM,CAAAC,cAAc,CAAGxB,kBAAkB,CAAC,CACtCe,2BAA2B,CAAEV,YAAY,CACzCoB,iBAAiB,CAAEpB,YACvB,CAAC,CAAC,CACF;AACA;AACA;AACA,GACA,QAAS,CAAAqB,gBAAgBA,CAACJ,YAAY,CAAE,CACpC,KAAM,CAACK,cAAc,CAAEC,iBAAiB,CAAC,CAAG9B,QAAQ,CAACwB,YAAY,CAAC,CAClE,KAAM,CAAAO,WAAW,CAAGL,cAAc,CAAC,CAAC,CAAC,CAAE,KAAK,CAAC,CAC7C,KAAM,CAAAM,OAAO,CAAG3B,WAAW,CAAC,IAAM,CAC9B,MAAO,IAAI,CAAAG,kBAAkB,CAAC,CAC1ByB,KAAK,CAAE,CACHC,QAAQ,CAAGC,CAAC,EAAK,CACbL,iBAAiB,CAAAM,aAAA,IAAMD,CAAC,CAAE,CAAC,CAC/B,CACJ,CAAC,CACDJ,WAAW,CACXM,eAAe,CAAE,IACrB,CAAC,CAAE,CAAEb,YAAa,CAAC,CAAC,CACxB,CAAC,CAAC,CACFvB,eAAe,CAAC,IAAM,CAClB+B,OAAO,CAACM,KAAK,CAAC,CAAC,CAAC,CAAC,CACjB,MAAO,IAAMN,OAAO,CAACO,OAAO,CAAC,CAAC,CAClC,CAAC,CAAE,CAACP,OAAO,CAAC,CAAC,CACb,KAAM,CAAAQ,cAAc,CAAGnC,WAAW,CAAC,IAAOoC,mBAAmB,EAAK,CAC9D,MAAO,CAAAnC,oBAAoB,CAAC0B,OAAO,CAAES,mBAAmB,CAAC,CAC7D,CAAC,CAAC,CACF,MAAO,CAACZ,cAAc,CAAEW,cAAc,CAAC,CAC3C,CAEA,OAASZ,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}