{"ast":null,"code":"import _objectSpread from\"/home/antisyn/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{pipe,warning}from'motion-utils';import{isCSSVariableToken}from'../../animation/utils/is-css-variable.mjs';import{color}from'../../value/types/color/index.mjs';import{complex,analyseComplexValue}from'../../value/types/complex/index.mjs';import{mixColor}from'./color.mjs';import{mixImmediate}from'./immediate.mjs';import{mixNumber as mixNumber$1}from'./number.mjs';import{invisibleValues,mixVisibility}from'./visibility.mjs';function mixNumber(a,b){return p=>mixNumber$1(a,b,p);}function getMixer(a){if(typeof a===\"number\"){return mixNumber;}else if(typeof a===\"string\"){return isCSSVariableToken(a)?mixImmediate:color.test(a)?mixColor:mixComplex;}else if(Array.isArray(a)){return mixArray;}else if(typeof a===\"object\"){return color.test(a)?mixColor:mixObject;}return mixImmediate;}function mixArray(a,b){const output=[...a];const numValues=output.length;const blendValue=a.map((v,i)=>getMixer(v)(v,b[i]));return p=>{for(let i=0;i<numValues;i++){output[i]=blendValue[i](p);}return output;};}function mixObject(a,b){const output=_objectSpread(_objectSpread({},a),b);const blendValue={};for(const key in output){if(a[key]!==undefined&&b[key]!==undefined){blendValue[key]=getMixer(a[key])(a[key],b[key]);}}return v=>{for(const key in blendValue){output[key]=blendValue[key](v);}return output;};}function matchOrder(origin,target){const orderedOrigin=[];const pointers={color:0,var:0,number:0};for(let i=0;i<target.values.length;i++){var _origin$values$origin;const type=target.types[i];const originIndex=origin.indexes[type][pointers[type]];const originValue=(_origin$values$origin=origin.values[originIndex])!==null&&_origin$values$origin!==void 0?_origin$values$origin:0;orderedOrigin[i]=originValue;pointers[type]++;}return orderedOrigin;}const mixComplex=(origin,target)=>{const template=complex.createTransformer(target);const originStats=analyseComplexValue(origin);const targetStats=analyseComplexValue(target);const canInterpolate=originStats.indexes.var.length===targetStats.indexes.var.length&&originStats.indexes.color.length===targetStats.indexes.color.length&&originStats.indexes.number.length>=targetStats.indexes.number.length;if(canInterpolate){if(invisibleValues.has(origin)&&!targetStats.values.length||invisibleValues.has(target)&&!originStats.values.length){return mixVisibility(origin,target);}return pipe(mixArray(matchOrder(originStats,targetStats),targetStats.values),template);}else{warning(true,\"Complex values '\".concat(origin,\"' and '\").concat(target,\"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.\"));return mixImmediate(origin,target);}};export{getMixer,mixArray,mixComplex,mixObject};","map":{"version":3,"names":["pipe","warning","isCSSVariableToken","color","complex","analyseComplexValue","mixColor","mixImmediate","mixNumber","mixNumber$1","invisibleValues","mixVisibility","a","b","p","getMixer","test","mixComplex","Array","isArray","mixArray","mixObject","output","numValues","length","blendValue","map","v","i","_objectSpread","key","undefined","matchOrder","origin","target","orderedOrigin","pointers","var","number","values","_origin$values$origin","type","types","originIndex","indexes","originValue","template","createTransformer","originStats","targetStats","canInterpolate","has","concat"],"sources":["/home/antisyn/portfolio/src/components/node_modules/motion-dom/dist/es/utils/mix/complex.mjs"],"sourcesContent":["import { pipe, warning } from 'motion-utils';\nimport { isCSSVariableToken } from '../../animation/utils/is-css-variable.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { mixColor } from './color.mjs';\nimport { mixImmediate } from './immediate.mjs';\nimport { mixNumber as mixNumber$1 } from './number.mjs';\nimport { invisibleValues, mixVisibility } from './visibility.mjs';\n\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = origin.values[originIndex] ?? 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        if ((invisibleValues.has(origin) &&\n            !targetStats.values.length) ||\n            (invisibleValues.has(target) &&\n                !originStats.values.length)) {\n            return mixVisibility(origin, target);\n        }\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}